### Top-level config file for train.py

# Top-level variables available in all config files
sample_rate: 16000
description: "${lightning_datamodule.sensor} || EBEN(M=4,P=${lightning_module.generator.p},Q=${lightning_module.discriminator.q}) with min_channels_dis=${lightning_module.discriminator.min_channels}, (data_aug light/lb-beta-ema=0.9/update-ratio=1)"

# Hydra configuration
version_base: "1.3"
hydra:
  job:
    chdir: True # change working directory to the job directory
  run:
    dir: "outputs/run/${hydra:runtime.choices.lightning_datamodule}/${lightning_datamodule.sensor}/${now:%Y-%m-%d_%H-%M-%S}_p${lightning_module.generator.p}"


# Composing configs
defaults:
  - lightning_datamodule: bwe # NEEDS TO BE OVERRIDDEN, will also determinate the metrics and the run directory
  - lightning_module: eben # NEEDS TO BE OVERRIDDEN
  - trainer: ddp
  - callbacks: # Dict of callbacks
      - bwe_checkpoint
      - rich_model_summary
  - logging: tensorboard
  - metrics: ${lightning_datamodule}
  - _self_ # priority is given to train.yaml for overrides
